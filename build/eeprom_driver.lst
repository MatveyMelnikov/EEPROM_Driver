ARM GAS  /tmp/ccuHymKT.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"eeprom_driver.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "External/eeprom_driver/Src/eeprom_driver.c"
  18              		.section	.text.eeprom_byte_write,"ax",%progbits
  19              		.align	1
  20              		.global	eeprom_byte_write
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	eeprom_byte_write:
  26              	.LVL0:
  27              	.LFB0:
   1:External/eeprom_driver/Src/eeprom_driver.c **** #include "eeprom_driver.h"
   2:External/eeprom_driver/Src/eeprom_driver.c **** #include "eeprom_defs.h"
   3:External/eeprom_driver/Src/eeprom_driver.c **** #include "eeprom_io.h"
   4:External/eeprom_driver/Src/eeprom_driver.c **** #include "eeprom_time.h"
   5:External/eeprom_driver/Src/eeprom_driver.c **** #include <stdint.h>
   6:External/eeprom_driver/Src/eeprom_driver.c **** #include <string.h>
   7:External/eeprom_driver/Src/eeprom_driver.c **** 
   8:External/eeprom_driver/Src/eeprom_driver.c **** // HAL_StatusTypeDef eeprom_byte_write(
   9:External/eeprom_driver/Src/eeprom_driver.c **** //     const I2C_HandleTypeDef *const i2c,
  10:External/eeprom_driver/Src/eeprom_driver.c **** //     uint16_t addr,
  11:External/eeprom_driver/Src/eeprom_driver.c **** //     uint8_t data
  12:External/eeprom_driver/Src/eeprom_driver.c **** // )
  13:External/eeprom_driver/Src/eeprom_driver.c **** // {
  14:External/eeprom_driver/Src/eeprom_driver.c **** //     const uint8_t sent_data[3] = { 
  15:External/eeprom_driver/Src/eeprom_driver.c **** //         *((uint8_t*)&addr),
  16:External/eeprom_driver/Src/eeprom_driver.c **** //         *((uint8_t*)&addr + 1),
  17:External/eeprom_driver/Src/eeprom_driver.c **** //         data
  18:External/eeprom_driver/Src/eeprom_driver.c **** //     };
  19:External/eeprom_driver/Src/eeprom_driver.c **** //     // memcpy(&sent_data, (uint8_t*)&addr, 2);
  20:External/eeprom_driver/Src/eeprom_driver.c **** //     // memcpy(&sent_data + 2, &data, 1);
  21:External/eeprom_driver/Src/eeprom_driver.c **** 
  22:External/eeprom_driver/Src/eeprom_driver.c **** //     HAL_StatusTypeDef status = HAL_I2C_Master_Transmit(
  23:External/eeprom_driver/Src/eeprom_driver.c **** //         i2c, DEV_ADDR, &sent_data, 3, EEPROM_TIMEOUT
  24:External/eeprom_driver/Src/eeprom_driver.c **** //     );
  25:External/eeprom_driver/Src/eeprom_driver.c **** //     HAL_Delay(WRITE_CYCLE_TIMEOUT);
  26:External/eeprom_driver/Src/eeprom_driver.c **** 
  27:External/eeprom_driver/Src/eeprom_driver.c **** //     return status;
  28:External/eeprom_driver/Src/eeprom_driver.c **** // }
  29:External/eeprom_driver/Src/eeprom_driver.c **** 
  30:External/eeprom_driver/Src/eeprom_driver.c **** // HAL_StatusTypeDef eeprom_page_write(
  31:External/eeprom_driver/Src/eeprom_driver.c **** //     const I2C_HandleTypeDef *const i2c,
ARM GAS  /tmp/ccuHymKT.s 			page 2


  32:External/eeprom_driver/Src/eeprom_driver.c **** //     uint16_t addr,
  33:External/eeprom_driver/Src/eeprom_driver.c **** //     const uint8_t *const data,
  34:External/eeprom_driver/Src/eeprom_driver.c **** //     uint16_t size
  35:External/eeprom_driver/Src/eeprom_driver.c **** // )
  36:External/eeprom_driver/Src/eeprom_driver.c **** // {
  37:External/eeprom_driver/Src/eeprom_driver.c **** //     struct 
  38:External/eeprom_driver/Src/eeprom_driver.c **** //     {
  39:External/eeprom_driver/Src/eeprom_driver.c **** //         uint16_t addr;
  40:External/eeprom_driver/Src/eeprom_driver.c **** //         uint8_t part[64];
  41:External/eeprom_driver/Src/eeprom_driver.c **** //     } sent_part;
  42:External/eeprom_driver/Src/eeprom_driver.c **** 
  43:External/eeprom_driver/Src/eeprom_driver.c **** //     sent_part.addr = addr;
  44:External/eeprom_driver/Src/eeprom_driver.c **** 
  45:External/eeprom_driver/Src/eeprom_driver.c **** //     // Divide the data into parts of 64 bytes 
  46:External/eeprom_driver/Src/eeprom_driver.c **** //     // (more than that cannot be written*)
  47:External/eeprom_driver/Src/eeprom_driver.c **** //     // *AT24C128 datasheet 7 page (page write)
  48:External/eeprom_driver/Src/eeprom_driver.c **** //     HAL_StatusTypeDef status = HAL_OK;
  49:External/eeprom_driver/Src/eeprom_driver.c **** //     for (uint16_t i = 0; i < size / 64; i++)
  50:External/eeprom_driver/Src/eeprom_driver.c **** //     {
  51:External/eeprom_driver/Src/eeprom_driver.c **** //         memcpy((uint8_t*)&sent_part.part, data, 64);
  52:External/eeprom_driver/Src/eeprom_driver.c **** 
  53:External/eeprom_driver/Src/eeprom_driver.c **** //         status |= HAL_I2C_Master_Transmit(
  54:External/eeprom_driver/Src/eeprom_driver.c **** //             i2c, DEV_ADDR, (uint8_t*)&sent_part, 66, EEPROM_TIMEOUT
  55:External/eeprom_driver/Src/eeprom_driver.c **** //         );        
  56:External/eeprom_driver/Src/eeprom_driver.c **** //     }
  57:External/eeprom_driver/Src/eeprom_driver.c **** 
  58:External/eeprom_driver/Src/eeprom_driver.c **** //     HAL_Delay(WRITE_CYCLE_TIMEOUT);
  59:External/eeprom_driver/Src/eeprom_driver.c **** // }
  60:External/eeprom_driver/Src/eeprom_driver.c **** 
  61:External/eeprom_driver/Src/eeprom_driver.c **** // HAL_StatusTypeDef eeprom_current_address_read(
  62:External/eeprom_driver/Src/eeprom_driver.c **** //     const I2C_HandleTypeDef *const i2c,
  63:External/eeprom_driver/Src/eeprom_driver.c **** //     uint8_t *const data
  64:External/eeprom_driver/Src/eeprom_driver.c **** // )
  65:External/eeprom_driver/Src/eeprom_driver.c **** // {
  66:External/eeprom_driver/Src/eeprom_driver.c **** 
  67:External/eeprom_driver/Src/eeprom_driver.c **** // }
  68:External/eeprom_driver/Src/eeprom_driver.c **** 
  69:External/eeprom_driver/Src/eeprom_driver.c **** // HAL_StatusTypeDef eeprom_random_read(
  70:External/eeprom_driver/Src/eeprom_driver.c **** //     const I2C_HandleTypeDef *const i2c,
  71:External/eeprom_driver/Src/eeprom_driver.c **** //     uint16_t addr,
  72:External/eeprom_driver/Src/eeprom_driver.c **** //     uint8_t *const data
  73:External/eeprom_driver/Src/eeprom_driver.c **** // )
  74:External/eeprom_driver/Src/eeprom_driver.c **** // {
  75:External/eeprom_driver/Src/eeprom_driver.c **** 
  76:External/eeprom_driver/Src/eeprom_driver.c **** // }
  77:External/eeprom_driver/Src/eeprom_driver.c **** 
  78:External/eeprom_driver/Src/eeprom_driver.c **** // HAL_StatusTypeDef EEPROM_sequential_read(
  79:External/eeprom_driver/Src/eeprom_driver.c **** //     const I2C_HandleTypeDef *const i2c,
  80:External/eeprom_driver/Src/eeprom_driver.c **** //     uint8_t data
  81:External/eeprom_driver/Src/eeprom_driver.c **** // )
  82:External/eeprom_driver/Src/eeprom_driver.c **** // {
  83:External/eeprom_driver/Src/eeprom_driver.c **** 
  84:External/eeprom_driver/Src/eeprom_driver.c **** // }
  85:External/eeprom_driver/Src/eeprom_driver.c **** 
  86:External/eeprom_driver/Src/eeprom_driver.c **** // HAL_StatusTypeDef eeprom_check_link(const I2C_HandleTypeDef *const i2c)
  87:External/eeprom_driver/Src/eeprom_driver.c **** // {
  88:External/eeprom_driver/Src/eeprom_driver.c **** //     static uint8_t data[] = { 0x0, 0x0, 0x55 };
ARM GAS  /tmp/ccuHymKT.s 			page 3


  89:External/eeprom_driver/Src/eeprom_driver.c **** //     static uint8_t result = 0x0;
  90:External/eeprom_driver/Src/eeprom_driver.c **** 
  91:External/eeprom_driver/Src/eeprom_driver.c **** //     HAL_StatusTypeDef status = HAL_I2C_Master_Transmit(
  92:External/eeprom_driver/Src/eeprom_driver.c **** //         i2c, DEV_ADDR, &data, 3, EEPROM_TIMEOUT
  93:External/eeprom_driver/Src/eeprom_driver.c **** //     );
  94:External/eeprom_driver/Src/eeprom_driver.c **** //     HAL_Delay(WRITE_CYCLE_TIMEOUT);
  95:External/eeprom_driver/Src/eeprom_driver.c ****     
  96:External/eeprom_driver/Src/eeprom_driver.c **** //     if (status)
  97:External/eeprom_driver/Src/eeprom_driver.c **** //         return status;
  98:External/eeprom_driver/Src/eeprom_driver.c **** 
  99:External/eeprom_driver/Src/eeprom_driver.c **** //     status = HAL_I2C_Master_Transmit(
 100:External/eeprom_driver/Src/eeprom_driver.c **** //         i2c, DEV_ADDR, &data, 2, EEPROM_TIMEOUT
 101:External/eeprom_driver/Src/eeprom_driver.c **** //     );
 102:External/eeprom_driver/Src/eeprom_driver.c **** //     status |= HAL_I2C_Master_Receive(
 103:External/eeprom_driver/Src/eeprom_driver.c **** //         i2c, DEV_ADDR, &result, 1, EEPROM_TIMEOUT
 104:External/eeprom_driver/Src/eeprom_driver.c **** //     );
 105:External/eeprom_driver/Src/eeprom_driver.c **** 
 106:External/eeprom_driver/Src/eeprom_driver.c **** //     if (result != 0x55)
 107:External/eeprom_driver/Src/eeprom_driver.c **** //         status |= HAL_ERROR;
 108:External/eeprom_driver/Src/eeprom_driver.c **** //     return status;
 109:External/eeprom_driver/Src/eeprom_driver.c **** // }
 110:External/eeprom_driver/Src/eeprom_driver.c **** 
 111:External/eeprom_driver/Src/eeprom_driver.c **** // Implementations -----------------------------------------------------------
 112:External/eeprom_driver/Src/eeprom_driver.c **** 
 113:External/eeprom_driver/Src/eeprom_driver.c **** eeprom_status eeprom_byte_write(
 114:External/eeprom_driver/Src/eeprom_driver.c ****     uint16_t addr,
 115:External/eeprom_driver/Src/eeprom_driver.c ****     uint8_t data
 116:External/eeprom_driver/Src/eeprom_driver.c **** )
 117:External/eeprom_driver/Src/eeprom_driver.c **** {
  28              		.loc 1 117 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 117 1 is_stmt 0 view .LVU1
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38 0002 82B0     		sub	sp, sp, #8
  39              	.LCFI1:
  40              		.cfi_def_cfa_offset 16
 118:External/eeprom_driver/Src/eeprom_driver.c ****     const uint8_t sent_data[] = { 
  41              		.loc 1 118 5 is_stmt 1 view .LVU2
  42              		.loc 1 118 19 is_stmt 0 view .LVU3
  43 0004 8DF80400 		strb	r0, [sp, #4]
  44 0008 C0F30720 		ubfx	r0, r0, #8, #8
  45              	.LVL1:
  46              		.loc 1 118 19 view .LVU4
  47 000c 8DF80500 		strb	r0, [sp, #5]
  48 0010 8DF80610 		strb	r1, [sp, #6]
 119:External/eeprom_driver/Src/eeprom_driver.c ****         *((uint8_t*)&addr),
 120:External/eeprom_driver/Src/eeprom_driver.c ****         *((uint8_t*)&addr + 1),
 121:External/eeprom_driver/Src/eeprom_driver.c ****         data
 122:External/eeprom_driver/Src/eeprom_driver.c ****     };
 123:External/eeprom_driver/Src/eeprom_driver.c **** 
 124:External/eeprom_driver/Src/eeprom_driver.c ****     eeprom_status status = eeprom_io_write(
ARM GAS  /tmp/ccuHymKT.s 			page 4


  49              		.loc 1 124 5 is_stmt 1 view .LVU5
  50              		.loc 1 124 28 is_stmt 0 view .LVU6
  51 0014 0321     		movs	r1, #3
  52              	.LVL2:
  53              		.loc 1 124 28 view .LVU7
  54 0016 01A8     		add	r0, sp, #4
  55 0018 FFF7FEFF 		bl	eeprom_io_write
  56              	.LVL3:
  57              		.loc 1 124 28 view .LVU8
  58 001c 0446     		mov	r4, r0
  59              	.LVL4:
 125:External/eeprom_driver/Src/eeprom_driver.c ****         (uint8_t*)&sent_data,
 126:External/eeprom_driver/Src/eeprom_driver.c ****         sizeof(sent_data)
 127:External/eeprom_driver/Src/eeprom_driver.c ****     );
 128:External/eeprom_driver/Src/eeprom_driver.c ****     eeprom_delay(WRITE_CYCLE_TIMEOUT);
  60              		.loc 1 128 5 is_stmt 1 view .LVU9
  61 001e 1420     		movs	r0, #20
  62 0020 FFF7FEFF 		bl	eeprom_delay
  63              	.LVL5:
 129:External/eeprom_driver/Src/eeprom_driver.c **** 
 130:External/eeprom_driver/Src/eeprom_driver.c ****     return status;
  64              		.loc 1 130 5 view .LVU10
 131:External/eeprom_driver/Src/eeprom_driver.c **** }
  65              		.loc 1 131 1 is_stmt 0 view .LVU11
  66 0024 2046     		mov	r0, r4
  67 0026 02B0     		add	sp, sp, #8
  68              	.LCFI2:
  69              		.cfi_def_cfa_offset 8
  70              		@ sp needed
  71 0028 10BD     		pop	{r4, pc}
  72              		.loc 1 131 1 view .LVU12
  73              		.cfi_endproc
  74              	.LFE0:
  76              		.section	.text.eeprom_page_write,"ax",%progbits
  77              		.align	1
  78              		.global	eeprom_page_write
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
  83              	eeprom_page_write:
  84              	.LVL6:
  85              	.LFB1:
 132:External/eeprom_driver/Src/eeprom_driver.c **** 
 133:External/eeprom_driver/Src/eeprom_driver.c **** eeprom_status eeprom_page_write(
 134:External/eeprom_driver/Src/eeprom_driver.c ****     uint16_t addr,
 135:External/eeprom_driver/Src/eeprom_driver.c ****     const uint8_t *const data,
 136:External/eeprom_driver/Src/eeprom_driver.c ****     uint16_t size
 137:External/eeprom_driver/Src/eeprom_driver.c **** )
 138:External/eeprom_driver/Src/eeprom_driver.c **** {
  86              		.loc 1 138 1 is_stmt 1 view -0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 72
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90              		.loc 1 138 1 is_stmt 0 view .LVU14
  91 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  92              	.LCFI3:
  93              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccuHymKT.s 			page 5


  94              		.cfi_offset 4, -24
  95              		.cfi_offset 5, -20
  96              		.cfi_offset 6, -16
  97              		.cfi_offset 7, -12
  98              		.cfi_offset 8, -8
  99              		.cfi_offset 14, -4
 100 0004 92B0     		sub	sp, sp, #72
 101              	.LCFI4:
 102              		.cfi_def_cfa_offset 96
 103 0006 0D46     		mov	r5, r1
 104 0008 1746     		mov	r7, r2
 139:External/eeprom_driver/Src/eeprom_driver.c ****     struct 
 105              		.loc 1 139 5 is_stmt 1 view .LVU15
 140:External/eeprom_driver/Src/eeprom_driver.c ****     {
 141:External/eeprom_driver/Src/eeprom_driver.c ****         uint16_t addr;
 142:External/eeprom_driver/Src/eeprom_driver.c ****         uint8_t part[64];
 143:External/eeprom_driver/Src/eeprom_driver.c ****     } sent_part;
 144:External/eeprom_driver/Src/eeprom_driver.c **** 
 145:External/eeprom_driver/Src/eeprom_driver.c ****     sent_part.addr = addr;
 106              		.loc 1 145 5 view .LVU16
 107              		.loc 1 145 20 is_stmt 0 view .LVU17
 108 000a ADF80400 		strh	r0, [sp, #4]	@ movhi
 146:External/eeprom_driver/Src/eeprom_driver.c **** 
 147:External/eeprom_driver/Src/eeprom_driver.c ****     // Divide the data into parts of 64 bytes 
 148:External/eeprom_driver/Src/eeprom_driver.c ****     // (more than that cannot be written)
 149:External/eeprom_driver/Src/eeprom_driver.c ****     // (ATMEL AT24C8C128 datasheet pg. 7)
 150:External/eeprom_driver/Src/eeprom_driver.c ****     eeprom_status status = EEPROM_OK;
 109              		.loc 1 150 5 is_stmt 1 view .LVU18
 110              	.LVL7:
 151:External/eeprom_driver/Src/eeprom_driver.c ****     for (uint16_t i = 0; i < size / 64; i++)
 111              		.loc 1 151 5 view .LVU19
 112              	.LBB2:
 113              		.loc 1 151 10 view .LVU20
 114              		.loc 1 151 19 is_stmt 0 view .LVU21
 115 000e 0024     		movs	r4, #0
 116              	.LBE2:
 150:External/eeprom_driver/Src/eeprom_driver.c ****     for (uint16_t i = 0; i < size / 64; i++)
 117              		.loc 1 150 19 view .LVU22
 118 0010 2646     		mov	r6, r4
 119              	.LBB3:
 120              		.loc 1 151 5 view .LVU23
 121 0012 1EE0     		b	.L4
 122              	.LVL8:
 123              	.L6:
 152:External/eeprom_driver/Src/eeprom_driver.c ****     {
 153:External/eeprom_driver/Src/eeprom_driver.c ****         memcpy((uint8_t*)&sent_part.part, data, 64);
 124              		.loc 1 153 9 is_stmt 1 view .LVU24
 125 0014 2B46     		mov	r3, r5
 126 0016 0DF1060C 		add	ip, sp, #6
 127 001a 05F14008 		add	r8, r5, #64
 128              	.L5:
 129 001e D3F800E0 		ldr	lr, [r3]	@ unaligned
 130 0022 5868     		ldr	r0, [r3, #4]	@ unaligned
 131 0024 9968     		ldr	r1, [r3, #8]	@ unaligned
 132 0026 DA68     		ldr	r2, [r3, #12]	@ unaligned
 133 0028 CCF800E0 		str	lr, [ip]	@ unaligned
 134 002c CCF80400 		str	r0, [ip, #4]	@ unaligned
ARM GAS  /tmp/ccuHymKT.s 			page 6


 135 0030 CCF80810 		str	r1, [ip, #8]	@ unaligned
 136 0034 CCF80C20 		str	r2, [ip, #12]	@ unaligned
 137 0038 1033     		adds	r3, r3, #16
 138 003a 0CF1100C 		add	ip, ip, #16
 139 003e 4345     		cmp	r3, r8
 140 0040 EDD1     		bne	.L5
 154:External/eeprom_driver/Src/eeprom_driver.c **** 
 155:External/eeprom_driver/Src/eeprom_driver.c ****         status |= eeprom_io_write((uint8_t*)&sent_part, 66);
 141              		.loc 1 155 9 view .LVU25
 142              		.loc 1 155 19 is_stmt 0 view .LVU26
 143 0042 4221     		movs	r1, #66
 144 0044 01A8     		add	r0, sp, #4
 145 0046 FFF7FEFF 		bl	eeprom_io_write
 146              	.LVL9:
 147              		.loc 1 155 16 discriminator 1 view .LVU27
 148 004a 3043     		orrs	r0, r0, r6
 149 004c C6B2     		uxtb	r6, r0
 150              	.LVL10:
 151:External/eeprom_driver/Src/eeprom_driver.c ****     {
 151              		.loc 1 151 42 is_stmt 1 discriminator 3 view .LVU28
 152 004e 0134     		adds	r4, r4, #1
 153              	.LVL11:
 151:External/eeprom_driver/Src/eeprom_driver.c ****     {
 154              		.loc 1 151 42 is_stmt 0 discriminator 3 view .LVU29
 155 0050 A4B2     		uxth	r4, r4
 156              	.LVL12:
 157              	.L4:
 151:External/eeprom_driver/Src/eeprom_driver.c ****     {
 158              		.loc 1 151 28 is_stmt 1 discriminator 1 view .LVU30
 159 0052 B4EB971F 		cmp	r4, r7, lsr #6
 160 0056 DDD3     		bcc	.L6
 161              	.LBE3:
 156:External/eeprom_driver/Src/eeprom_driver.c ****     }
 157:External/eeprom_driver/Src/eeprom_driver.c ****     eeprom_delay(WRITE_CYCLE_TIMEOUT);
 162              		.loc 1 157 5 view .LVU31
 163 0058 1420     		movs	r0, #20
 164 005a FFF7FEFF 		bl	eeprom_delay
 165              	.LVL13:
 158:External/eeprom_driver/Src/eeprom_driver.c **** 
 159:External/eeprom_driver/Src/eeprom_driver.c ****     return status;
 166              		.loc 1 159 5 view .LVU32
 160:External/eeprom_driver/Src/eeprom_driver.c **** }
 167              		.loc 1 160 1 is_stmt 0 view .LVU33
 168 005e 3046     		mov	r0, r6
 169 0060 12B0     		add	sp, sp, #72
 170              	.LCFI5:
 171              		.cfi_def_cfa_offset 24
 172              		@ sp needed
 173 0062 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 174              		.loc 1 160 1 view .LVU34
 175              		.cfi_endproc
 176              	.LFE1:
 178              		.section	.text.eeprom_current_address_read,"ax",%progbits
 179              		.align	1
 180              		.global	eeprom_current_address_read
 181              		.syntax unified
 182              		.thumb
ARM GAS  /tmp/ccuHymKT.s 			page 7


 183              		.thumb_func
 185              	eeprom_current_address_read:
 186              	.LVL14:
 187              	.LFB2:
 161:External/eeprom_driver/Src/eeprom_driver.c **** 
 162:External/eeprom_driver/Src/eeprom_driver.c **** eeprom_status eeprom_current_address_read(
 163:External/eeprom_driver/Src/eeprom_driver.c ****     uint8_t *const data
 164:External/eeprom_driver/Src/eeprom_driver.c **** )
 165:External/eeprom_driver/Src/eeprom_driver.c **** {
 188              		.loc 1 165 1 is_stmt 1 view -0
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 0
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192              		@ link register save eliminated.
 166:External/eeprom_driver/Src/eeprom_driver.c ****     return EEPROM_OK;
 193              		.loc 1 166 5 view .LVU36
 167:External/eeprom_driver/Src/eeprom_driver.c **** }
 194              		.loc 1 167 1 is_stmt 0 view .LVU37
 195 0000 0020     		movs	r0, #0
 196              	.LVL15:
 197              		.loc 1 167 1 view .LVU38
 198 0002 7047     		bx	lr
 199              		.cfi_endproc
 200              	.LFE2:
 202              		.section	.text.eeprom_random_byte_read,"ax",%progbits
 203              		.align	1
 204              		.global	eeprom_random_byte_read
 205              		.syntax unified
 206              		.thumb
 207              		.thumb_func
 209              	eeprom_random_byte_read:
 210              	.LVL16:
 211              	.LFB3:
 168:External/eeprom_driver/Src/eeprom_driver.c **** 
 169:External/eeprom_driver/Src/eeprom_driver.c **** eeprom_status eeprom_random_byte_read(
 170:External/eeprom_driver/Src/eeprom_driver.c ****     const uint16_t addr,
 171:External/eeprom_driver/Src/eeprom_driver.c ****     uint8_t *const data
 172:External/eeprom_driver/Src/eeprom_driver.c **** )
 173:External/eeprom_driver/Src/eeprom_driver.c **** {
 212              		.loc 1 173 1 is_stmt 1 view -0
 213              		.cfi_startproc
 214              		@ args = 0, pretend = 0, frame = 8
 215              		@ frame_needed = 0, uses_anonymous_args = 0
 216              		.loc 1 173 1 is_stmt 0 view .LVU40
 217 0000 30B5     		push	{r4, r5, lr}
 218              	.LCFI6:
 219              		.cfi_def_cfa_offset 12
 220              		.cfi_offset 4, -12
 221              		.cfi_offset 5, -8
 222              		.cfi_offset 14, -4
 223 0002 83B0     		sub	sp, sp, #12
 224              	.LCFI7:
 225              		.cfi_def_cfa_offset 24
 226 0004 0D46     		mov	r5, r1
 174:External/eeprom_driver/Src/eeprom_driver.c ****     struct 
 227              		.loc 1 174 5 is_stmt 1 view .LVU41
 175:External/eeprom_driver/Src/eeprom_driver.c ****     {
ARM GAS  /tmp/ccuHymKT.s 			page 8


 176:External/eeprom_driver/Src/eeprom_driver.c ****         uint16_t addr;
 177:External/eeprom_driver/Src/eeprom_driver.c ****         uint8_t dummy;
 178:External/eeprom_driver/Src/eeprom_driver.c ****     } set_addr_cmd = { .addr = addr, .dummy = 0xff };
 228              		.loc 1 178 7 is_stmt 0 view .LVU42
 229 0006 ADF80400 		strh	r0, [sp, #4]	@ movhi
 230 000a FF23     		movs	r3, #255
 231 000c 8DF80630 		strb	r3, [sp, #6]
 179:External/eeprom_driver/Src/eeprom_driver.c **** 
 180:External/eeprom_driver/Src/eeprom_driver.c ****     eeprom_status status = eeprom_io_write(
 232              		.loc 1 180 5 is_stmt 1 view .LVU43
 233              		.loc 1 180 28 is_stmt 0 view .LVU44
 234 0010 0421     		movs	r1, #4
 235              	.LVL17:
 236              		.loc 1 180 28 view .LVU45
 237 0012 0DEB0100 		add	r0, sp, r1
 238              	.LVL18:
 239              		.loc 1 180 28 view .LVU46
 240 0016 FFF7FEFF 		bl	eeprom_io_write
 241              	.LVL19:
 242              		.loc 1 180 28 view .LVU47
 243 001a 0446     		mov	r4, r0
 244              	.LVL20:
 181:External/eeprom_driver/Src/eeprom_driver.c ****         (uint8_t*)&set_addr_cmd,
 182:External/eeprom_driver/Src/eeprom_driver.c ****         sizeof(set_addr_cmd)
 183:External/eeprom_driver/Src/eeprom_driver.c ****     );
 184:External/eeprom_driver/Src/eeprom_driver.c ****     status |= eeprom_io_read(data, 1);
 245              		.loc 1 184 5 is_stmt 1 view .LVU48
 246              		.loc 1 184 15 is_stmt 0 view .LVU49
 247 001c 0121     		movs	r1, #1
 248 001e 2846     		mov	r0, r5
 249 0020 FFF7FEFF 		bl	eeprom_io_read
 250              	.LVL21:
 251              		.loc 1 184 12 discriminator 1 view .LVU50
 252 0024 2043     		orrs	r0, r0, r4
 253              	.LVL22:
 185:External/eeprom_driver/Src/eeprom_driver.c **** 
 186:External/eeprom_driver/Src/eeprom_driver.c ****     return status;
 254              		.loc 1 186 5 is_stmt 1 view .LVU51
 187:External/eeprom_driver/Src/eeprom_driver.c **** }
 255              		.loc 1 187 1 is_stmt 0 view .LVU52
 256 0026 C0B2     		uxtb	r0, r0
 257              		.loc 1 187 1 view .LVU53
 258 0028 03B0     		add	sp, sp, #12
 259              	.LCFI8:
 260              		.cfi_def_cfa_offset 12
 261              		@ sp needed
 262 002a 30BD     		pop	{r4, r5, pc}
 263              		.loc 1 187 1 view .LVU54
 264              		.cfi_endproc
 265              	.LFE3:
 267              		.section	.text.eeprom_sequential_read,"ax",%progbits
 268              		.align	1
 269              		.global	eeprom_sequential_read
 270              		.syntax unified
 271              		.thumb
 272              		.thumb_func
 274              	eeprom_sequential_read:
ARM GAS  /tmp/ccuHymKT.s 			page 9


 275              	.LVL23:
 276              	.LFB4:
 188:External/eeprom_driver/Src/eeprom_driver.c **** 
 189:External/eeprom_driver/Src/eeprom_driver.c **** eeprom_status eeprom_sequential_read(
 190:External/eeprom_driver/Src/eeprom_driver.c ****     uint8_t data
 191:External/eeprom_driver/Src/eeprom_driver.c **** )
 192:External/eeprom_driver/Src/eeprom_driver.c **** {
 277              		.loc 1 192 1 is_stmt 1 view -0
 278              		.cfi_startproc
 279              		@ args = 0, pretend = 0, frame = 0
 280              		@ frame_needed = 0, uses_anonymous_args = 0
 281              		@ link register save eliminated.
 193:External/eeprom_driver/Src/eeprom_driver.c ****     return EEPROM_OK;
 282              		.loc 1 193 5 view .LVU56
 194:External/eeprom_driver/Src/eeprom_driver.c **** }
 283              		.loc 1 194 1 is_stmt 0 view .LVU57
 284 0000 0020     		movs	r0, #0
 285              	.LVL24:
 286              		.loc 1 194 1 view .LVU58
 287 0002 7047     		bx	lr
 288              		.cfi_endproc
 289              	.LFE4:
 291              		.section	.text.eeprom_check_link,"ax",%progbits
 292              		.align	1
 293              		.global	eeprom_check_link
 294              		.syntax unified
 295              		.thumb
 296              		.thumb_func
 298              	eeprom_check_link:
 299              	.LFB5:
 195:External/eeprom_driver/Src/eeprom_driver.c **** 
 196:External/eeprom_driver/Src/eeprom_driver.c **** eeprom_status eeprom_check_link(void)
 197:External/eeprom_driver/Src/eeprom_driver.c **** {
 300              		.loc 1 197 1 is_stmt 1 view -0
 301              		.cfi_startproc
 302              		@ args = 0, pretend = 0, frame = 0
 303              		@ frame_needed = 0, uses_anonymous_args = 0
 304 0000 38B5     		push	{r3, r4, r5, lr}
 305              	.LCFI9:
 306              		.cfi_def_cfa_offset 16
 307              		.cfi_offset 3, -16
 308              		.cfi_offset 4, -12
 309              		.cfi_offset 5, -8
 310              		.cfi_offset 14, -4
 198:External/eeprom_driver/Src/eeprom_driver.c ****     static uint8_t data[] = { 0x0, 0x0, 0x55 };
 311              		.loc 1 198 5 view .LVU60
 199:External/eeprom_driver/Src/eeprom_driver.c ****     static uint8_t result = 0x0;
 312              		.loc 1 199 5 view .LVU61
 200:External/eeprom_driver/Src/eeprom_driver.c **** 
 201:External/eeprom_driver/Src/eeprom_driver.c ****     eeprom_status status = eeprom_io_write(&data, sizeof(data));
 313              		.loc 1 201 5 view .LVU62
 314              		.loc 1 201 28 is_stmt 0 view .LVU63
 315 0002 0321     		movs	r1, #3
 316 0004 0D48     		ldr	r0, .L16
 317 0006 FFF7FEFF 		bl	eeprom_io_write
 318              	.LVL25:
 319 000a 0446     		mov	r4, r0
ARM GAS  /tmp/ccuHymKT.s 			page 10


 320              	.LVL26:
 202:External/eeprom_driver/Src/eeprom_driver.c ****     eeprom_delay(WRITE_CYCLE_TIMEOUT);
 321              		.loc 1 202 5 is_stmt 1 view .LVU64
 322 000c 1420     		movs	r0, #20
 323 000e FFF7FEFF 		bl	eeprom_delay
 324              	.LVL27:
 203:External/eeprom_driver/Src/eeprom_driver.c ****     
 204:External/eeprom_driver/Src/eeprom_driver.c ****     if (status)
 325              		.loc 1 204 5 view .LVU65
 326              		.loc 1 204 8 is_stmt 0 view .LVU66
 327 0012 0CB1     		cbz	r4, .L15
 328              	.L13:
 329              	.LVL28:
 205:External/eeprom_driver/Src/eeprom_driver.c ****         return status;
 206:External/eeprom_driver/Src/eeprom_driver.c **** 
 207:External/eeprom_driver/Src/eeprom_driver.c ****     status = eeprom_io_write(&data, 2);
 208:External/eeprom_driver/Src/eeprom_driver.c ****     status |= eeprom_io_read(&result, 1);
 209:External/eeprom_driver/Src/eeprom_driver.c **** 
 210:External/eeprom_driver/Src/eeprom_driver.c ****     if (result != 0x55)
 211:External/eeprom_driver/Src/eeprom_driver.c ****         status |= EEPROM_ERROR;
 212:External/eeprom_driver/Src/eeprom_driver.c ****     return status;
 213:External/eeprom_driver/Src/eeprom_driver.c **** }
 330              		.loc 1 213 1 view .LVU67
 331 0014 2046     		mov	r0, r4
 332 0016 38BD     		pop	{r3, r4, r5, pc}
 333              	.LVL29:
 334              	.L15:
 207:External/eeprom_driver/Src/eeprom_driver.c ****     status |= eeprom_io_read(&result, 1);
 335              		.loc 1 207 5 is_stmt 1 view .LVU68
 207:External/eeprom_driver/Src/eeprom_driver.c ****     status |= eeprom_io_read(&result, 1);
 336              		.loc 1 207 14 is_stmt 0 view .LVU69
 337 0018 0221     		movs	r1, #2
 338 001a 0848     		ldr	r0, .L16
 339 001c FFF7FEFF 		bl	eeprom_io_write
 340              	.LVL30:
 341 0020 0446     		mov	r4, r0
 342              	.LVL31:
 208:External/eeprom_driver/Src/eeprom_driver.c **** 
 343              		.loc 1 208 5 is_stmt 1 view .LVU70
 208:External/eeprom_driver/Src/eeprom_driver.c **** 
 344              		.loc 1 208 15 is_stmt 0 view .LVU71
 345 0022 074D     		ldr	r5, .L16+4
 346 0024 0121     		movs	r1, #1
 347 0026 2846     		mov	r0, r5
 348 0028 FFF7FEFF 		bl	eeprom_io_read
 349              	.LVL32:
 208:External/eeprom_driver/Src/eeprom_driver.c **** 
 350              		.loc 1 208 12 discriminator 1 view .LVU72
 351 002c 0443     		orrs	r4, r4, r0
 352              	.LVL33:
 208:External/eeprom_driver/Src/eeprom_driver.c **** 
 353              		.loc 1 208 12 discriminator 1 view .LVU73
 354 002e E4B2     		uxtb	r4, r4
 355              	.LVL34:
 210:External/eeprom_driver/Src/eeprom_driver.c ****         status |= EEPROM_ERROR;
 356              		.loc 1 210 5 is_stmt 1 view .LVU74
 210:External/eeprom_driver/Src/eeprom_driver.c ****         status |= EEPROM_ERROR;
ARM GAS  /tmp/ccuHymKT.s 			page 11


 357              		.loc 1 210 16 is_stmt 0 view .LVU75
 358 0030 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 210:External/eeprom_driver/Src/eeprom_driver.c ****         status |= EEPROM_ERROR;
 359              		.loc 1 210 8 view .LVU76
 360 0032 552B     		cmp	r3, #85
 361 0034 EED0     		beq	.L13
 211:External/eeprom_driver/Src/eeprom_driver.c ****     return status;
 362              		.loc 1 211 9 is_stmt 1 view .LVU77
 211:External/eeprom_driver/Src/eeprom_driver.c ****     return status;
 363              		.loc 1 211 16 is_stmt 0 view .LVU78
 364 0036 44F00104 		orr	r4, r4, #1
 365              	.LVL35:
 211:External/eeprom_driver/Src/eeprom_driver.c ****     return status;
 366              		.loc 1 211 16 view .LVU79
 367 003a EBE7     		b	.L13
 368              	.L17:
 369              		.align	2
 370              	.L16:
 371 003c 00000000 		.word	data.1
 372 0040 00000000 		.word	result.0
 373              		.cfi_endproc
 374              	.LFE5:
 376              		.section	.bss.result.0,"aw",%nobits
 379              	result.0:
 380 0000 00       		.space	1
 381              		.section	.data.data.1,"aw"
 382              		.align	2
 385              	data.1:
 386 0000 000055   		.ascii	"\000\000U"
 387              		.text
 388              	.Letext0:
 389              		.file 2 "/usr/local/src/arm-gnu-toolchain-13.2/arm-none-eabi/include/machine/_default_types.h"
 390              		.file 3 "/usr/local/src/arm-gnu-toolchain-13.2/arm-none-eabi/include/sys/_stdint.h"
 391              		.file 4 "External/eeprom_driver/Inc/eeprom_defs.h"
 392              		.file 5 "External/eeprom_driver/Inc/eeprom_io.h"
 393              		.file 6 "External/eeprom_driver/Inc/eeprom_time.h"
ARM GAS  /tmp/ccuHymKT.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 eeprom_driver.c
     /tmp/ccuHymKT.s:19     .text.eeprom_byte_write:00000000 $t
     /tmp/ccuHymKT.s:25     .text.eeprom_byte_write:00000000 eeprom_byte_write
     /tmp/ccuHymKT.s:77     .text.eeprom_page_write:00000000 $t
     /tmp/ccuHymKT.s:83     .text.eeprom_page_write:00000000 eeprom_page_write
     /tmp/ccuHymKT.s:179    .text.eeprom_current_address_read:00000000 $t
     /tmp/ccuHymKT.s:185    .text.eeprom_current_address_read:00000000 eeprom_current_address_read
     /tmp/ccuHymKT.s:203    .text.eeprom_random_byte_read:00000000 $t
     /tmp/ccuHymKT.s:209    .text.eeprom_random_byte_read:00000000 eeprom_random_byte_read
     /tmp/ccuHymKT.s:268    .text.eeprom_sequential_read:00000000 $t
     /tmp/ccuHymKT.s:274    .text.eeprom_sequential_read:00000000 eeprom_sequential_read
     /tmp/ccuHymKT.s:292    .text.eeprom_check_link:00000000 $t
     /tmp/ccuHymKT.s:298    .text.eeprom_check_link:00000000 eeprom_check_link
     /tmp/ccuHymKT.s:371    .text.eeprom_check_link:0000003c $d
     /tmp/ccuHymKT.s:385    .data.data.1:00000000 data.1
     /tmp/ccuHymKT.s:379    .bss.result.0:00000000 result.0
     /tmp/ccuHymKT.s:380    .bss.result.0:00000000 $d
     /tmp/ccuHymKT.s:382    .data.data.1:00000000 $d

UNDEFINED SYMBOLS
eeprom_io_write
eeprom_delay
eeprom_io_read
